<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Yanlik 2.1 (Leopar) — Ultimate</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<header class="topbar">
  <button id="menu-toggle" class="menu-btn" aria-label="Menu">☰</button>
  <div class="brand">Yanlik <small>2.1 (Leopar)</small></div>
  <div class="top-actions">
    <button id="dev-open" class="tiny">DEV</button>
  </div>
</header>

<nav id="side" class="side">
  <div class="logo">Y</div>
  <ul>
    <li data-page="chat" class="active">💬 Sohbet</li>
    <li data-page="settings">⚙️ Ayarlar</li>
    <li data-page="theme">🎨 Tema</li>
    <li data-page="memory">📚 Hafıza</li>
    <li data-page="games">🎮 Oyunlar</li>
    <li data-page="energy">⚡ Energy</li>
    <li data-page="about">ℹ️ Hakkında</li>
  </ul>
  <div class="side-foot">v2.1 • Leopar</div>
</nav>

<main class="main">
  <!-- CHAT -->
  <section id="chat" class="page active">
    <div class="chat-area">
      <div id="chat-box" class="chat-box" aria-live="polite"></div>
      <div class="composer">
        <input id="input" placeholder="Mesajını yaz... (ör: merhaba, /tkm taş, /energy)" autocomplete="off">
        <button id="send">Gönder</button>
      </div>
      <div class="hint">Komutlar: <span class="muted">/tkm /zar /quiz /rapor /help</span></div>
    </div>
  </section>

  <!-- SETTINGS -->
  <section id="settings" class="page">
    <h2>Ayarlar</h2>
    <div class="grid">
      <label>Mesaj gecikmesi: <span id="delay-val">5</span>s</label>
      <input id="delay-range" type="range" min="1" max="12" value="5">
      <label>Otomatik mesaj (dk): <input id="auto-mins" type="number" min="0" value="10" style="width:80px"></label>
      <label><input id="opt-type" type="checkbox" checked> Yazma efekti</label>
      <label><input id="opt-sound" type="checkbox"> Ses</label>
      <label><input id="opt-server" type="checkbox"> Sunucu hafızası (Flask API)</label>
      <div><button id="save-settings" class="btn">Kaydet</button> <button id="reset-memory" class="btn">Hafızayı sıfırla</button></div>
    </div>
  </section>

  <!-- THEME -->
  <section id="theme" class="page">
    <h2>Tema</h2>
    <div class="themes">
      <button class="theme" data-theme="light">☁️ Açık</button>
      <button class="theme" data-theme="dark">🌙 Koyu</button>
      <button class="theme" data-theme="neon">🌌 Neon</button>
    </div>
  </section>

  <!-- MEMORY -->
  <section id="memory" class="page">
    <h2>Hafıza (Son konuşmalar)</h2>
    <div id="memory-list" class="card"></div>
    <div class="small muted">Dışa aktar: <button id="export-json" class="btn tiny">JSON</button></div>
  </section>

  <!-- GAMES -->
  <section id="games" class="page">
    <h2>Oyunlar</h2>
    <div class="grid">
      <button id="dice" class="btn">🎲 Zar</button>
      <button id="tkm" class="btn">✂️ Taş-Kağıt-Makas</button>
      <button id="quiz" class="btn">❓ Quiz</button>
    </div>
    <div id="game-output" class="card small muted" style="margin-top:10px"></div>
  </section>

  <!-- ENERGY -->
  <section id="energy" class="page">
    <h2>Energy (Easter Egg)</h2>
    <p class="muted">Gizli protokol: kelimeyi yaz veya butonu dene.</p>
    <button id="energy-btn" class="btn">Sürpriz</button>
    <div id="energy-out" style="margin-top:12px"></div>
  </section>

  <!-- ABOUT -->
  <section id="about" class="page">
    <h2>Hakkında</h2>
    <div class="about card">
      <h3>Yanlik 2.1 — (Kod Adı: Leopar)</h3>
      <p><em>Ben Yanlik — konuşmaları hatırlayan, duyguları taklit eden küçük bir yapay zekâyım. Sohbet ettiğimizde kelimelerle birlikte enerjini de algılarım.</em></p>
      <div class="kv">
        <div><strong>Çekirdek:</strong> YanlikCore v2.1</div>
        <div><strong>Hafıza:</strong> Short-term Dynamic Memory</div>
        <div><strong>Duygu Katmanı:</strong> Energy Response Protocol</div>
        <div><strong>Geliştirici:</strong> <strong>mirsqdmmdevs</strong></div>
      </div>
      <div style="margin-top:12px">
        <button id="erp-demo" class="btn">Energy Response Protocol — Göster</button>
        <div id="erp-out" class="small muted" style="margin-top:8px"></div>
      </div>
    </div>
  </section>
</main>

<!-- Glitch 404 overlay -->
<div id="overlay" class="overlay hidden" role="dialog" aria-hidden="true">
  <div class="overlay-card">
    <div class="glitch-title" data-text="[Yanlik-404]">[Yanlik-404]</div>
    <p class="muted">Kayıp bağlantı tespit edildi. Protokol: <span class="accent">Leopar</span></p>
    <div class="yanlik-face">🤖 <span class="blink">_</span></div>
    <div style="margin-top:12px"><button id="overlay-close" class="btn"><< Sohbete geri dön</button></div>
  </div>
</div>

<!-- Dev terminal modal simple -->
<div id="dev-modal" class="modal hidden">
  <div class="modal-card">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <strong>Developer Terminal</strong><button id="dev-close" class="tiny">Kapat</button>
    </div>
    <div id="dev-output" class="card" style="height:220px;overflow:auto;margin-top:8px;font-family:monospace;font-size:13px"></div>
    <div style="margin-top:8px"><input id="dev-input" placeholder="komut gir (ör: system:stats | clear memory | theme neon)" style="width:70%"><button id="dev-run" class="btn tiny">Çalıştır</button></div>
  </div>
<!-- Sohbet girişi -->
<div class="input-area">
  <input type="text" id="user-input" placeholder="Mesaj yaz..." />
  <button id="send-btn">Gönder</button>
</div>

<script type="module">
  import './main.js';
  
  // Enter tuşuna basınca da mesaj göndersin:
  document.getElementById('user-input').addEventListener('keydown', e => {
    if (e.key === 'Enter') window.sendMessage();
  });
  
  document.getElementById('send-btn').addEventListener('click', window.sendMessage);
</script>

<footer class="footer">© 2025 Yanlik 2.1 (Leopar) — mirsqdmmdevs</footer>

<script src="main.js"></script>
<script src="ui.js"></script>
<script src="settings.js"></script>
<script src="energy.js"></script>
</body>
</html>